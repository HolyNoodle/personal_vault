# Environment Setup

## Quick Start

1. **Copy the default environment template:**
   ```bash
   cp .env.default .env.development
   ```

2. **Update values in `.env.development`:**
   - Database credentials
   - Redis connection
   - SMTP settings (or use Mailhog for dev)
   - WebAuthn domain settings

3. **Start development environment:**
   ```bash
   ./scripts/dev-start.sh
   ```

## Environment Files

- **`.env.default`** - Template (committed to git, no secrets)
- **`.env.development`** - Local dev config (ignored by git)
- **`.env.production`** - Production config (ignored by git)
- **`.env`** - Active config (ignored by git)

## Production Setup

1. **Generate secrets:**
   ```bash
   ./scripts/generate-secrets.sh
   ```

2. **Create production config:**
   ```bash
   cp .env.default .env.production
   ```

3. **Update `.env.production` with:**
   - Production domain/origin
   - Database password from `secrets/db_password.txt`
   - Redis password from `secrets/redis_password.txt`
   - Real SMTP credentials
   - TLS certificate paths

4. **Deploy:**
   ```bash
   ./scripts/prod-start.sh
   ```

## Security Notes

- ⚠️ Never commit `.env.development` or `.env.production`
- ⚠️ Never commit `secrets/` directory
- ✅ Only `.env.default` should be committed (template with placeholders)
- ✅ Use strong passwords generated by `generate-secrets.sh`
